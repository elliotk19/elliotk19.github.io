<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Blog &middot; Elliot's Data Science Portfolio
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/main.css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/img/smile.png">
  <link rel="shortcut icon" href="/public/img/smile.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  
  <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_SVG"> </script>
  <script type="text/x-mathjax-config">
MathJax.Hub.Config({ tex2jax: { inlineMath: [ ['$','$'], ["\\(","\\)"] ], processEscapes: true } });
  </script>
  
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <div class="sidebar-personal-info">
      <div class="sidebar-personal-info-section">
        <a href="http://gravatar.com/3447a97633c3d1f380ce7d703e9100a5">
          <img src="http://www.gravatar.com/avatar/3447a97633c3d1f380ce7d703e9100a5?s=350" title="View on Gravatar" alt="View on Gravatar" />
        </a>
      </div>
      <div class="sidebar-personal-info-section">
        <p><b>Data is the new oil?
 No: Data is the new soil</b></p>
      </div>
      
      
      
      <div class="sidebar-personal-info-section">
        <p> Follow me: 
        
        
        
        <a href="https://github.com/elliotk19">
          <i class="fa fa-github" aria-hidden="true"></i>
        </a>
        
        |
        
        
        
        <a href="https://fb.com/elliotk19">
          <i class="fa fa-facebook" aria-hidden="true"></i>
        </a>
        
        |
        
        
        
        <a href="https://instagram.com/elliot.kim1231">
          <i class="fa fa-instagram" aria-hidden="true"></i>
        </a>
        
        |
        
        
        
        <a href="mailto:elliotkim1230@gmail.com">
          <i class="fa fa-envelope" aria-hidden="true"></i>
        </a>
        
        
        
        </p>
      </div>
      
    </div>
  </div>

  <nav class="sidebar-nav">
    
      
      
      

      

      <span class="">
        <a class="sidebar-nav-item " href="/">
          Home
        </a>

        
      </span>

    
      
      
      

      

      <span class="foldable">
        <a class="sidebar-nav-item active" href="/blog/">
          Posts
        </a>

        
          
            
            
            
              <a class="sidebar-nav-item sidebar-nav-item-sub " href="/blog/categories/">
                Categories
              </a>
          
        
          
            
            
            
              <a class="sidebar-nav-item sidebar-nav-item-sub " href="/blog/tags/">
                Tags
              </a>
          
        
      </span>

    
      
      
      

      

      <span class="">
        <a class="sidebar-nav-item " href="/about/">
          About me
        </a>

        
      </span>

    
      
      
      

      

      <span class="">
        <a class="sidebar-nav-item " href="http://github.com/elliotk19">
          Github Project
        </a>

        
      </span>

    

    <span class="sidebar-nav-item">Currently v1.0.0</span>
  </nav>

  <div class="sidebar-item">
    <p>
    &copy; 2018 Elliot Kim. This work is liscensed under <a href="http://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a>.
    </p>
  </div>

  <div class="sidebar-item">
    <p>
    Powered by <a href="http://jekyllrb.com">jekyll</a>
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home" title="Elliot's Data Science Portfolio">
              <img class="masthead-logo" src="/public/python_logo.png"/>
            </a>
            <small>Python & Data Analysis</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/water/2018/08/17/Water2/">
        Searching and Processing the South Korean Tap Water Data
      </a>
    </h1>

    <span class="post-date">17 Aug 2018</span>
     | 
    
    <a href="/blog/tags/#tap-water" class="post-tag">Tap Water</a>
    
    <a href="/blog/tags/#fresh-water" class="post-tag">Fresh Water</a>
    
    <a href="/blog/tags/#south-korea" class="post-tag">South Korea</a>
    
    

    <article>
      <p>-Introduction to the datasets
  -talk about what’s in each sheets (most interesting ones)
  -talk about statistics that can be compared between countries(daily usage of water per person, etc.)
    -screenshotted information (DEKSTOP)
-Processed Data to make data by year equal
-How to process missing data
  -diff solutions
-Korean-&gt; English
-Fixed shape the same for each year</p>

<h2>Searching for Datasets</h2>
<p>After conducting a brief research regarding the problems Korea has about fresh water and about the tap water system, I was finally able to somewhat set a goal for the project and started constructing the base of the project: finding the proper and applicable dataset that was worthy of analyzing. The process wasn’t too complicated as I basically went to google and looked up ‘Korean Water Statistics’ in Korean and just went through the top pages.
<img src="/public/img/find.png" alt="Image" />
By going to the first website and going through the information, I wasn’t really satisfied with the data they provided. This is because I wanted to be able to download certain datasets whether it be in a form of a txt file or an excel sheet, so that I can actually analyze the information in ways they haven’t tried. However, as shown by the picture of the website below, it provided mere generalizations and simple diagrams so that users can understand the information easier.
<img src="/public/img/kwater.png" alt="Image" />
Knowing I wouldn’t be able to find the dataset I wanted, I decided to call the service center to ask where I could get the certain dataset I wanted. Kindly, the customer service center led me to another website which I would’ve never imagined to access and find what I wanted which was the website of the Ministry of Environment. I was able to look into the website with the specific section regarding the waterways and I was able to somewhat get the dataset I wanted.
<img src="/public/img/gov.png" alt="Image" />
As the website took me to the page shown above, it presented me to downloadable waterway datasets from 2011 all the way to 2015 which was very nice for me because now I could be able to compare certain variables by its time value and how certain aspects changed/continued over time.</p>

<p><a href="/elliotk19.github.io/public/Combined_OG.xlsx.zip" download="Combined_OG.xlsx.zip">download this</a></p>

    <article>
    <div class="post-more">
      
      <a href="/water/2018/08/17/Water2/#disqus_thread"> <i class="fa fa-comments" aria-hidden="true"></i>Comment</a>&nbsp;
      
      <a href="/water/2018/08/17/Water2/"><i class="fa fa-plus-circle" aria-hidden="true"></i>Read more</a>
    </div>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/water/2018/08/15/Water/">
        Introduction to Korea Water System Project
      </a>
    </h1>

    <span class="post-date">15 Aug 2018</span>
     | 
    
    <a href="/blog/tags/#tap-water" class="post-tag">Tap Water</a>
    
    <a href="/blog/tags/#fresh-water" class="post-tag">Fresh Water</a>
    
    <a href="/blog/tags/#south-korea" class="post-tag">South Korea</a>
    
    

    <article>
      <p>After finishing my 4 week summer program at University of California, Irvine and getting a deeper insight into the field of data science, I decided to start another mini project regarding statistics related to the fresh water scarcity in Korea. With this project, I want to apply some of the skills I learned at the camp as well as the various methods of analyzing data I’ve learned myself reading books so that I can generate various conclusions regarding the fresh water scarcity in Korea.</p>
<h2> Why this topic? </h2>
<p>Water is a topic I was interested in ever since I was young because with my mom working with the Humanitarian aid organization World Vision regarding digging wells for people in Africa with no access to fresh water, I had a personal connection with the lack of fresh water. So as I entered high school, I co-founded a club called Blue Heart which promoted the use of tap water as a solution to the lack of fresh drinkable water as I conducted various research, experiments, and campaigns. Knowing what I am capable of doing and motivated to do in the future, I thought that the combination of my interests in data science and water could best be expressed by executing this  project and get a deeper perception into this subject.</p>
<h2> Fresh Water Scarcity in South Korea </h2>
<p>Being the 109th biggest country in the world, but the 27th most populated country, South Korea has a high population density, which is 10 times the global average. Fresh water in South Korea makes up just 3% of the total South Korean territory of just under 100,000 square kilometers, as the demand for fresh water far exceeds the supply of it. Along with the population density, other challenges that the country faces while trying to sustain this very high level of water and sanitation services include:
<img src="/public/img/rain.jpg" alt="Image" />
<b>Ample but uneven rainfall</b></p>

<p>On average South Korea’s annual rainfall is 1,274mm (about 25% higher than the world average) but the heavy rainfalls of summer often cause flooding while the country typically experiences extended droughts in the winter. Geographically, the southern coastal and mountain regions get most of the rainfall, whereas the northern part of the country is more arid. This is a challenge Korea has to face since rainfall is uncontrollable and the fact that it’s hard to “distribute” rainfall to all parts of South Korea evenly, finding the corresponding solution towards this problem will be a recurring challenge in the future.</p>

<p><b>Industrialization and Pollution</b></p>

<p>Ever since Korea’s economic boom in the late 20th century, the development of the economy and industrialization left aside the imminent consequences, specifically environmental issues, that came with the boom. Since most industrial processes require the mass use of fresh water, the technological boom that has been continuing to this day will be another challenge that Korea will face.
<img src="/public/img/imjin.jpg" alt="Image" />
<b>Geopolitical Tensions with North Korea</b></p>

<p>The ongoing tensions with North Korea, geopolitically, have dealt with the construction of several dams on the Imjin river, a major waterway that starts in the north and ends to the northwest of Seoul. With no cooperation between the two countries on flood control, sudden releases of water from the dams without warning have caused flooding and loss of life in South Korea. Dams have been one of the main solutions towards the fresh water problems in order to control the flooding and target the challenge of ample but uneven rainfall by storing the rainfall.</p>

<h2>Korean Tap Water Flow</h2>
<p><img src="/public/img/waterflow.jpg" alt="Image" />
Source: Arisu</p>

<p>As mentioned before, the purpose of this project is take a deeper look into the Korean Tap Water system so that I can generate various conclusions and maybe some solutions towards various challenges presented from data. It will also assess to what extent tap water can be a viable alternative as a source of drinkable water. Although I don’t know what type of information or variables I will be analyzing regarding tap water, I do need to have prior knowledge regarding the tap water flow in Korea.</p>

<p>The diagram presented above provided by the official Korean tap water organization, Arisu, shows the basic flow of tap water in which it goes through a series of processes to ensure the sanitation and the better quality of tap water.</p>

    <article>
    <div class="post-more">
      
      <a href="/water/2018/08/15/Water/#disqus_thread"> <i class="fa fa-comments" aria-hidden="true"></i>Comment</a>&nbsp;
      
      <a href="/water/2018/08/15/Water/"><i class="fa fa-plus-circle" aria-hidden="true"></i>Read more</a>
    </div>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/summer%20camp/2018/08/01/Final-Project-Code/">
        Using Principal Component Analysis (PCA) Final(Methods, Code, Analysis/Conclusion, and Future Directions):The Human Microbiome Dataset
      </a>
    </h1>

    <span class="post-date">01 Aug 2018</span>
     | 
    
    <a href="/blog/tags/#cosmos" class="post-tag">COSMOS</a>
    
    <a href="/blog/tags/#final-project" class="post-tag">Final Project</a>
    
    <a href="/blog/tags/#camp" class="post-tag">Camp</a>
    
    

    <article>
      <p>After doing all the research needed for the project, our group now proceeded on the coding part of the project. Unlike the past two datasets I analyzed using PCA, for this specific dataset, I conducted a PCA within a PCA so that I can classify the specific regions from its general locations. So now let’s look into the code in which I classified the code in terms of its purpose.</p>
<h2>Creating the Base PCA Solver </h2>
<h5>Importing Libraries </h5>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>To start the code, I imported the necessary libraries needed to perform the PCA. So I imported 4 main libraries: pandas, numpy, matplotlib, and sklearn. Pandas is mainly used to organize data structures so that one can view certain data in various persepctives. Numpy is mainly used for any type of calculations or math related since it can perform basically any types of mathematical functions. Matplotlib is mainly used to visualize a certain dataset so that one can physically see the results of a certain situation. Finally, I imported the StandardScaler and the PCA from sklearn.decomposition because these are the necessary components of PCA humans cannot physically do by hand yet only computers can handle.</p>
<h5>Loading and Processing the Dataset </h5>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="n">dataF</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s">'otu_table_psn_v13_annotated_total.xlsx'</span><span class="p">,</span><span class="n">header</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">dataF</span> <span class="o">=</span> <span class="n">dataF</span><span class="o">.</span><span class="n">T</span>
<span class="n">features</span> <span class="o">=</span> <span class="n">dataF</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">:]</span><span class="o">.</span><span class="n">values</span>
<span class="n">labels</span> <span class="o">=</span> <span class="n">dataF</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">regionlabel</span> <span class="o">=</span> <span class="n">dataF</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">specificregion</span> <span class="o">=</span> <span class="n">dataF</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>In this part of the code, I created a pandas dataframe by loading the data as an excel file. In the parameters of the read_excel function, it includes the parameter header in which equalled None.
<img src="/public/img/microexcel.png" alt="Image" />
The reason I set the header to None is because on the next line, I processed my dataframe so that it becomes the transpose of itself which basically means that the x and y axis switched. As shown in the picture above, taking the transpose of the dataset would follow our information section in that the independent variable would become the gender and the region the sample was taken and the dependent variable being different OTUs. Next, I split the dataframe to 4 different sub-dataframes called features, labels, regionlabel, and specificregion and the data contained in each of the dataframes are self-explanatory by their names.</p>
<h5>PCA Solver </h5>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="n">numEvec</span><span class="o">=</span><span class="mi">8</span>
<span class="k">def</span> <span class="nf">PCASolver</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">numEvec</span><span class="p">):</span>
    <span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span> <span class="n">numEvec</span><span class="p">)</span>
    <span class="n">Y</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Y</span><span class="p">,</span> <span class="n">pca</span><span class="o">.</span><span class="n">explained_variance_ratio_</span>
<span class="n">Y</span><span class="p">,</span> <span class="n">all_eigvalues</span> <span class="o">=</span> <span class="n">PCASolver</span><span class="p">(</span><span class="n">features</span><span class="p">,</span> <span class="n">numEvec</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>So the next part of the code deals with creating the base PCA Solver in which takes in the features dataframe and the number of principal components (numEvec) it will analyze. As this function runs, it runs PCA from the library we imported and also standardizes the matrix into the dataframe Y. Thus this specific function outputs the standardized dataframe Y and a list with all the explained varaince ratio of each principal component. What the explained variance can tell you about a principal component is that it shows what percent of the variance of the data each principal component explains.</p>
<h3>Creating the Variance Plot </h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="n">numPCs</span> <span class="o">=</span> <span class="n">numEvec</span>
<span class="n">percent</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mi">100</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">all_eigvalues</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)]</span>
<span class="n">cum_var_exp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">percent</span><span class="p">[:</span><span class="n">numPCs</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">numPCs</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span><span class="n">cum_var_exp</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">'r'</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s">'s'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">numPCs</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span><span class="n">percent</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s">'Cumulative Explained Variance'</span><span class="p">,</span><span class="s">'Eigenvalue'</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Explained Variance by Different Principle Components'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>As we ran the PCA solver with the raw dataset, we were able to generate a list called all_eigvalues with the explained variance ratio of each of the eigenvalues. So the next thing I did was to create another list called percent in which multiplied the ratio by 100 so that we can get the percentage as I ordered the percentages in descending order. By organizing the dataset from greatest to least, it would therefore categorize the principal components from the most important to the least important.
<img src="/public/img/explainedvariance.png" alt="Image" />
This is the plot we get after running all the commands using the matplotlib library. Basically I created a plot and inside it created bar graphs that signified the explained variance in percent of each of the principal components from the most significant to the least. Also on the plot is a line graph that shows the cumulative explained variance in which shows the sum of the explained variance from pc1~pc(n). Normally, when using PCA and dealing with explained variance, data scientists would use the number of principal components that takes to explain at least 70% of the data. In this case, as shown by the graph the first four principal components represents approximately 70% of the data and we chose to analyze these four principal components.</p>
<h3>PCA Amongst the General Regions </h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="n">n</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">stri</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">stri</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">'PC'</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>    
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>        
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">stri</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">stri</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'2 component PCA'</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>        
        <span class="n">targets</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Urogenital_tract'</span><span class="p">,</span> <span class="s">'Airways'</span><span class="p">,</span> <span class="s">'Skin'</span><span class="p">,</span> <span class="s">'Oral'</span><span class="p">,</span> <span class="s">'Gastrointestinal_tract'</span><span class="p">]</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s">'r'</span><span class="p">,</span> <span class="s">'g'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">,</span><span class="s">'c'</span><span class="p">,</span><span class="s">'m'</span><span class="p">]</span>        
        <span class="k">for</span> <span class="n">target</span><span class="p">,</span> <span class="n">color</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">targets</span><span class="p">,</span><span class="n">colors</span><span class="p">):</span>
            <span class="n">indicesToKeep</span> <span class="o">=</span> <span class="n">regionlabel</span> <span class="o">==</span> <span class="n">target</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">Y</span><span class="p">[</span><span class="n">indicesToKeep</span><span class="p">,</span><span class="n">i</span><span class="p">]</span>
                       <span class="p">,</span> <span class="n">Y</span><span class="p">[</span><span class="n">indicesToKeep</span><span class="p">,</span><span class="n">j</span><span class="p">]</span>
                       <span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">color</span>
                       <span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">50</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">targets</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>The next part of the code deals with the PCA for the general regions of where the samples were taken which includes the Urogenital tract, Airways, skin, the oral region, and the Gastrointestinal tract. Similar to the PCA Solver created for the past two datasets, the function takes the first n principal components it will try to compare with one another. First I created a separate list for the axes names called stri in which the values changed based on which principal component it was linked with as I was able to plot the graphs.
<img src="/public/img/pc1.png" alt="Image" />
<img src="/public/img/pc3.png" alt="Image" />
As shown by these two graphs of comparing the first four principal components, different regions contain points that are located on a certain line in the PCA graph. Therefore, points that lie on one of the “spokes” of the graph can be classified with a high degree of certainty.</p>
<h3>PCA Amongst the Specific Regions </h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="k">for</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">targets</span><span class="p">:</span>
    <span class="n">Y</span><span class="p">,</span> <span class="n">all_eigvalues</span> <span class="o">=</span> <span class="n">PCASolver</span><span class="p">(</span><span class="n">features</span><span class="p">,</span> <span class="n">numEvec</span><span class="p">)</span>
    <span class="n">indicesToKeep</span> <span class="o">=</span> <span class="n">regionlabel</span> <span class="o">==</span> <span class="n">target</span>
    <span class="n">Y</span> <span class="o">=</span> <span class="n">Y</span><span class="p">[</span><span class="n">indicesToKeep</span><span class="p">][:]</span>
    <span class="n">shortenedspecific</span> <span class="o">=</span> <span class="n">specificregion</span><span class="p">[</span><span class="n">indicesToKeep</span><span class="p">][:]</span>    
    <span class="n">unique</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">specificregion</span><span class="p">[</span><span class="n">indicesToKeep</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">unique</span><span class="p">:</span>
            <span class="n">unique</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>            
    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">"PC1"</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">"PC2"</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">target</span><span class="o">+</span> <span class="s">" PCA"</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>    
    <span class="k">for</span> <span class="n">specific</span><span class="p">,</span> <span class="n">color</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">unique</span><span class="p">,</span> <span class="n">colors</span><span class="p">):</span>        
        <span class="n">indices</span> <span class="o">=</span> <span class="n">shortenedspecific</span> <span class="o">==</span> <span class="n">specific</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">Y</span><span class="p">[</span><span class="n">indices</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">Y</span><span class="p">[</span><span class="n">indices</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">c</span> <span class="o">=</span> <span class="n">color</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">50</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">unique</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>Now in order to conduct a better PCA, our group decided to conduct PCA within each of the general regions since the dataset also provided the specific regions the samples were taken from. So by taking the regionlabel and specificregion list we created earlier, we were able to conduct PCA amongst each of the general locations. By creating two more lists, shortenedspecific and unique, I was able to categorize the dataset into which general location it came from so that the graphs would generate the principal components of the specific locations.
<img src="/public/img/specific.png" alt="Image" />
As shown by the 5 graphs of each general location, there is very little horizontal variation along PC1 for samples taken from the Urogenital Tract region. Conversely, skin samples experience only slight vertical dispersal and vary almost exclusively in terms of PC1. Samples from the gastrointestinal region are clustered very tightly in the convergence of Oral, Urogenital Tract, and Skin samples. Airways samples nearly mirror those from Skin, but with less density/variation.</p>
<h3> Future Directions </h3>
<p>Future research might include applying our PCA algorithm to other sample sets from microbiomes found in the soil and ocean. Also, a more comprehensive dataset on the microbiome samples would allow researchers to recognize more patterns and clusters in the PCA graphs based on unexamined variables, such as age, location, and health. By further examining microbiomes, it could be possible to identify the different properties of the microbes and help cure/prevent certain illnesses.</p>
<h3> Conclusion </h3>
<p>As we predicted correctly in the hypothesis, communities of bacteria on different organs are very distinct. PCA showed us that samples from different regions varied directly to a their corresponding principal components; each region showed correlation to their specific OTUs. Our PCA solver ran smoothly, and we performed it on several reduced versions before plugging in the total dataset. We were initially confused about our graphs because unlike most PCA examples, our data did not group together in clusters. However, it makes sense because there is a linear variation of OTUs in specific areas. Some future research would include using our PCA solver on other sample sets from the Human Microbiome Project or from the soil and ocean microbiomes.</p>
<h3> Works Cited </h3>
<p>About the Human Microbiome. (2018). Retrieved from https://hmpdacc.org/hmp/overview</p>

<p>Klotter, J. (2010, July). NIH launches Human Microbiome Project. Townsend Letter, (324), 18. Retrieved from http://link.galegroup.com/apps/doc/A231544962/SUIC?u=pleasant_valhs&amp;sid=SUIC&amp;xid=c4109b64</p>

<p>Morgan XC, Huttenhower C (2012) Chapter 12: Human Microbiome Analysis. PLoS Comput Biol 8(12): e1002808. https://doi.org/10.1371/journal.pcbi.1002808</p>

<p>Savage DC. Microbial ecology of the gastrointestinal tract. Annu. Rev. Microbiol. 1977;31:107–133.</p>

    <article>
    <div class="post-more">
      
      <a href="/summer%20camp/2018/08/01/Final-Project-Code/#disqus_thread"> <i class="fa fa-comments" aria-hidden="true"></i>Comment</a>&nbsp;
      
      <a href="/summer%20camp/2018/08/01/Final-Project-Code/"><i class="fa fa-plus-circle" aria-hidden="true"></i>Read more</a>
    </div>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/summer%20camp/2018/07/29/Final-Project-Using-PCA/">
        Using Principal Component Analysis (PCA) Final(Abstract,Question, Variables and Hypothesis, and Background):The Human Microbiome Dataset
      </a>
    </h1>

    <span class="post-date">29 Jul 2018</span>
     | 
    
    <a href="/blog/tags/#cosmos" class="post-tag">COSMOS</a>
    
    <a href="/blog/tags/#final-project" class="post-tag">Final Project</a>
    
    <a href="/blog/tags/#camp" class="post-tag">Camp</a>
    
    

    <article>
      <p>After using PCA for two practice datasets, one of which the professor provided and one that I found by myself, our group decided to move onto the dataset that we needed to analyze for the final project. As introduced and explained on the previous posts regarding the final project, we needed to analyze the human microbiome dataset using PCA. But before getting into the code, let’s first take a look at the informative aspects of the project.</p>
<h2> Abstract </h2>
<p>Microbiomes, microscopic communities of bacteria in a particular environment, exist all over the human body and are responsible for carrying out numerous essential biological functions, both good and bad. In fact, bacteria living on the human body outnumber human cells 10 to 1. Despite their tremendous importance, microbiomes are difficult for researchers to study and understand due to their complexity and minuscule scale. Our paper examines data from The Human Microbiome Project, which contains 2,913 individual samples gathered from 242 human subjects, measuring 43,144 variables. Using principal component analysis (PCA) to reduce our multi-dimensional data, we are able to compare the clustering of microbes on various regions of the body. By examining the bacterial composition of these samples and applying PCA, we classified the samples according to the region of the body from which the sample was gathered. By plotting the data points onto the principal component axes and analyzing the linear clustering of the data, we were able to conclude that different parts of the body contain different types of bacteria.</p>
<h2> Question </h2>
<p>Utilizing Principal Component Analysis, in what ways can we classify the human microbiome?</p>
<h2> Variables and Hypothesis </h2>
<p>The independent variables were the gender and regions from which the samples were taken.
The dependent variables were the 43,144 different OTUs that were present in the various microbiomes. We hypothesize that PCA will produce clearly distinguishable clusters for each of the regions and genders from which the sample was taken. The Principal Components will be useful for explaining differences in the OTUs present in each microbiome.</p>
<h2> Background </h2>
<h5> Human Microbiome Project </h5>
<p>The <a href="https://www.hmpdacc.org/hmp/overview/">Human Microbiome Project</a> has the mission of generating resources that would enable the comprehensive characterization of the human microbiome and analysis of its role in human health and disease. The data analyzed for this investigation was sourced from the Human Microbiome Project The data set was then checked for mislabeling and sample contamination. We used the variable region 1-3 (V13) OTU table for our analysis.</p>
<h5> Human Microbiome </h5>
<p>Microbiomes are communities of bacteria, viruses, fungi, and other microbial organisms that exist all over the bodies of every eukaryotic organism. The specific microbiomes present on the human body are responsible for vital functions such as food digestion, producing vitamins, and recognizing malicious microbes. Disruption or unbalance of microbiomes can cause many health problems, such as cancer, diabetes, obesity, and autoimmune disease. According to the Human Microbiome Project, current research has shown that microbiome research holds the possibility to understand and even treat numerous human maladies. Our research focuses on classifying samples of different microbiomes present in different regions of the human body.</p>

<p>In analyzing the differences between microbiomes present on different regions of the human body, we look at the microbes present in the microbiome sample. Since the technology for sequencing DNA and analyzing the microbiome is relatively young, a traditional system of classifying microbes into species doesn’t exist. Thus, the different varieties of microbes are classified into Operational Taxonomic Units (OTUs). Our data examines the specific OTUs found in each of the samples drawn from different regions of the human body.</p>
<h5> Principal Component Analysis (PCA) </h5>
<p>Principal Component Analysis (PCA) is a statistical tool used to reduce the dimensionality of multi-variable data. Because we are unable to visualize data in more than 3 dimensions, PCA must be used to reduce the number of variables/dimensions for effective visualization and classification.</p>

<p>To do this, PCA takes a matrix of size n by m, where n represents the number of samples taken and m represents the number of measurements, and reduces the data into i vectors, or “principal components,” which can be used to project the original data onto new axes.
<img src="/public/img/before.png" alt="Image" />
As shown in the picture above, PCA takes a dataset and creates two axes named principal components 1 and 2 so that it presents the data on the left with the most variance as shown on the graph on the right.</p>
<iframe src="https://drive.google.com/file/d/1jg4YdPflTm-SYvvhZLsoEIU6ZVoKJmRL/preview" width="640" height="480"></iframe>

    <article>
    <div class="post-more">
      
      <a href="/summer%20camp/2018/07/29/Final-Project-Using-PCA/#disqus_thread"> <i class="fa fa-comments" aria-hidden="true"></i>Comment</a>&nbsp;
      
      <a href="/summer%20camp/2018/07/29/Final-Project-Using-PCA/"><i class="fa fa-plus-circle" aria-hidden="true"></i>Read more</a>
    </div>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/summer%20camp/2018/07/26/Second-Pracitce-Using-PCA/">
        Using Principal Component Analysis (PCA) Practice Number Two:Cars Dataset
      </a>
    </h1>

    <span class="post-date">26 Jul 2018</span>
     | 
    
    <a href="/blog/tags/#cosmos" class="post-tag">COSMOS</a>
    
    <a href="/blog/tags/#final-project" class="post-tag">Final Project</a>
    
    <a href="/blog/tags/#camp" class="post-tag">Camp</a>
    
    

    <article>
      <p>After implementing PCA to the famous Iris dataset, I decided that I utilize PCA on one more dataset and then move onto the final project’s dataset. So this time, I decided to find my own dataset in which I would analyze using PCA so that I don’t have any external sources to refer to. After looking through various websites, I managed to find a very interesting dataset which was relating then different types of cars and trucks with many other variables. I accessed <a href="http://ww2.amstat.org/publications/jse/datasets/04cars.dat.txt">here</a> to get the actual dataset as I downloaded this text file as an excel and also went <a href="http://ww2.amstat.org/publications/jse/datasets/04cars.txt">here</a> to get the information of what each column stood for.
<img src="/public/img/variable.png" alt="Image" />
<img src="/public/img/cars.png" alt="Image" />
As one can see on these two pictures above, the first one shows the description of each the columns’ variables and the second picture actually shows a glimpse of the dataset I was going to analyze. So the goal of my PCA was to determine how we can classify the different types of vehicles (sports car, sports utility vehicle, wagon, etc.).</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>    
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="k">def</span> <span class="nf">analysis</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">df</span><span class="p">,</span><span class="n">x</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
    <span class="n">stri</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="n">stri</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">'principal component '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">principalComponents</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">principalDf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">principalComponents</span>
             <span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">stri</span><span class="p">)</span>
    <span class="n">finalDf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">principalDf</span><span class="p">,</span> <span class="n">df</span><span class="p">[[</span><span class="s">'Type'</span><span class="p">]]],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">finalDf_1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">principalDf</span><span class="p">,</span> <span class="n">df</span><span class="p">[[</span><span class="s">'Drive'</span><span class="p">]]],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
            <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">stri</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">stri</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'2 component PCA'</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>
            <span class="n">targets</span> <span class="o">=</span> <span class="p">[</span><span class="s">"Sports Car"</span><span class="p">,</span><span class="s">"Sport Utility Vehicle"</span><span class="p">,</span><span class="s">"Wagon"</span><span class="p">,</span><span class="s">"Minivan"</span><span class="p">,</span><span class="s">"Pickup"</span><span class="p">,</span><span class="s">"Unclassified"</span><span class="p">]</span>
            <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s">'r'</span><span class="p">,</span> <span class="s">'g'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">,</span><span class="s">'c'</span><span class="p">,</span><span class="s">'m'</span><span class="p">,</span><span class="s">'y'</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">target</span><span class="p">,</span> <span class="n">color</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">targets</span><span class="p">,</span><span class="n">colors</span><span class="p">):</span>
                <span class="n">indicesToKeep</span> <span class="o">=</span> <span class="n">finalDf</span><span class="p">[</span><span class="s">'Type'</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">finalDf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">indicesToKeep</span><span class="p">,</span> <span class="n">stri</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
                           <span class="p">,</span> <span class="n">finalDf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">indicesToKeep</span><span class="p">,</span> <span class="n">stri</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span>
                           <span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">color</span>
                           <span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">50</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">targets</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
            <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">stri</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">stri</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'2 component PCA'</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>
            <span class="n">targets</span> <span class="o">=</span> <span class="p">[</span><span class="s">"All-Wheel Drive"</span><span class="p">,</span><span class="s">"Rear-Wheel Drive"</span><span class="p">,</span><span class="s">"Unclassified"</span><span class="p">]</span>
            <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s">'r'</span><span class="p">,</span> <span class="s">'g'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">target</span><span class="p">,</span> <span class="n">color</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">targets</span><span class="p">,</span><span class="n">colors</span><span class="p">):</span>
                <span class="n">indicesToKeep</span> <span class="o">=</span> <span class="n">finalDf_1</span><span class="p">[</span><span class="s">'Drive'</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">finalDf_1</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">indicesToKeep</span><span class="p">,</span> <span class="n">stri</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
                           <span class="p">,</span> <span class="n">finalDf_1</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">indicesToKeep</span><span class="p">,</span> <span class="n">stri</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span>
                           <span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">color</span>
                           <span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">50</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">targets</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s">"cars.xlsx"</span><span class="p">,</span><span class="n">header</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">"Sports Car"</span><span class="p">,</span><span class="s">"Sport Utility Vehicle"</span><span class="p">,</span><span class="s">"Wagon"</span><span class="p">,</span><span class="s">"Minivan"</span><span class="p">,</span><span class="s">"Pickup"</span><span class="p">,</span><span class="s">"All-Wheel Drive"</span><span class="p">,</span><span class="s">"Rear-Wheel Drive"</span><span class="p">,</span><span class="s">"Suggested Retail Price"</span><span class="p">,</span><span class="s">"Dealer Cost"</span><span class="p">,</span><span class="s">"Engine Size"</span><span class="p">,</span><span class="s">"Number of Cylinders"</span><span class="p">,</span><span class="s">"Horsepower"</span><span class="p">,</span><span class="s">"City Miles Per Gallon"</span><span class="p">,</span><span class="s">"Highway Miles Per Gallon"</span><span class="p">,</span><span class="s">"Weight"</span><span class="p">,</span><span class="s">"Wheel Base"</span><span class="p">,</span><span class="s">"Length"</span><span class="p">,</span><span class="s">"Width"</span><span class="p">]</span>
<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s">"Sports Car"</span><span class="p">,</span><span class="s">"Sport Utility Vehicle"</span><span class="p">,</span><span class="s">"Wagon"</span><span class="p">,</span><span class="s">"Minivan"</span><span class="p">,</span><span class="s">"Pickup"</span><span class="p">]</span>
<span class="n">drive</span> <span class="o">=</span> <span class="p">[</span><span class="s">"All-Wheel Drive"</span><span class="p">,</span><span class="s">"Rear-Wheel Drive"</span><span class="p">]</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">!=</span> <span class="s">"*"</span><span class="p">)</span><span class="o">.</span><span class="nb">all</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s">'Type'</span><span class="p">]</span><span class="o">=</span><span class="s">"Unclassified"</span>
<span class="n">df</span><span class="p">[</span><span class="s">'Drive'</span><span class="p">]</span><span class="o">=</span><span class="s">"Unclassified"</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">names</span><span class="p">)):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">387</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">names</span><span class="p">[</span><span class="n">i</span><span class="p">]][</span><span class="n">j</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">df</span><span class="p">[</span><span class="s">'Type'</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">names</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">drive</span><span class="p">)):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">387</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">drive</span><span class="p">[</span><span class="n">i</span><span class="p">]][</span><span class="n">j</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">df</span><span class="p">[</span><span class="s">'Drive'</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">drive</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">x</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">:</span><span class="mi">17</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="n">analysis</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="n">df</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>This is the basic code I coded in order to perform an effective PCA comparing each of the first n principal components with one another so that I can observe any clustering of each of the types of vehicles. So now let’s take a closer look at each part of the code.</p>
<h3> Importing Libraries </h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>    
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>To start the code, I imported the necessary libraries needed to perform the PCA. So I imported 4 main libraries: pandas, numpy, matplotlib, and sklearn. Pandas is mainly used to organize data structures so that one can view certain data in various persepctives. Numpy is mainly used for any type of calculations or math related since it can perform basically any types of mathematical functions. Matplotlib is mainly used to visualize a certain dataset so that one can physically see the results of a certain situation. Finally, I imported the StandardScaler and the PCA from sklearn.decomposition because these are the necessary components of PCA humans cannot physically do by hand yet only computers can handle.</p>
<h3> Loading the Dataset </h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s">"cars.xlsx"</span><span class="p">,</span><span class="n">header</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">"Sports Car"</span><span class="p">,</span><span class="s">"Sport Utility Vehicle"</span><span class="p">,</span><span class="s">"Wagon"</span><span class="p">,</span><span class="s">"Minivan"</span><span class="p">,</span><span class="s">"Pickup"</span><span class="p">,</span><span class="s">"All-Wheel Drive"</span><span class="p">,</span><span class="s">"Rear-Wheel Drive"</span><span class="p">,</span><span class="s">"Suggested Retail Price"</span><span class="p">,</span><span class="s">"Dealer Cost"</span><span class="p">,</span><span class="s">"Engine Size"</span><span class="p">,</span><span class="s">"Number of Cylinders"</span><span class="p">,</span><span class="s">"Horsepower"</span><span class="p">,</span><span class="s">"City Miles Per Gallon"</span><span class="p">,</span><span class="s">"Highway Miles Per Gallon"</span><span class="p">,</span><span class="s">"Weight"</span><span class="p">,</span><span class="s">"Wheel Base"</span><span class="p">,</span><span class="s">"Length"</span><span class="p">,</span><span class="s">"Width"</span><span class="p">]</span>
<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s">"Sports Car"</span><span class="p">,</span><span class="s">"Sport Utility Vehicle"</span><span class="p">,</span><span class="s">"Wagon"</span><span class="p">,</span><span class="s">"Minivan"</span><span class="p">,</span><span class="s">"Pickup"</span><span class="p">]</span>
<span class="n">drive</span> <span class="o">=</span> <span class="p">[</span><span class="s">"All-Wheel Drive"</span><span class="p">,</span><span class="s">"Rear-Wheel Drive"</span><span class="p">]</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>The next part of the code involves loading and processing the dataset so that I input the appropriate dataframe to the PCA Solver I will later be explaining. To start off, from <a href="http://ww2.amstat.org/publications/jse/datasets/04cars.dat.txt">here</a>, I downloaded the website as a text file in which I imported the text file into an excel sheet. In my case, I named the sheet cars which is why the first line contains cars.xlsx. Also, during this process, I deleted the first column of the original dataset which contained the actual names of each vehicle which I concluded was insignificant to the overall PCA. I also set the header=None because as shown on the pictures before, the dataset’s column names aren’t really contained in the actual dataset in which I manually inputted the names of columns in the next line.</p>
<p>
The next part of the code contains me creating two lists (names and drive) in which the list 'names' contained the column names of columns 0-4 and the list 'drive' contained the column names of columns 5 and 6. I did this because this way, I could do PCA in two different ways in which the first way was to categorize it based on what type of vehicle it was and the second way being categorizing based on the vehicles' drivetrain.</p>
<h3>Processing the Dataset</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">!=</span> <span class="s">"*"</span><span class="p">)</span><span class="o">.</span><span class="nb">all</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s">'Type'</span><span class="p">]</span><span class="o">=</span><span class="s">"Unclassified"</span>
<span class="n">df</span><span class="p">[</span><span class="s">'Drive'</span><span class="p">]</span><span class="o">=</span><span class="s">"Unclassified"</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">names</span><span class="p">)):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">387</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">names</span><span class="p">[</span><span class="n">i</span><span class="p">]][</span><span class="n">j</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">df</span><span class="p">[</span><span class="s">'Type'</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">names</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">drive</span><span class="p">)):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">387</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">drive</span><span class="p">[</span><span class="n">i</span><span class="p">]][</span><span class="n">j</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">df</span><span class="p">[</span><span class="s">'Drive'</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">drive</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">x</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">:</span><span class="mi">17</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>Moving on, the next part of the code deals with processing the cars dataset.
<img src="/public/img/example.png" alt="Image" />
As one goes through the cars dataset, there are various data points in which certain components are marked with the “<code class="highlighter-rouge">*</code>” as shown in the picture above as this signifies that the data for that certain car wasn’t available. Concluding that I would rather get rid of the entire data point, the first line of the code does this function. In that for all rows that contain “<code class="highlighter-rouge">*</code>”, I dropped the entire row and also reset the index. I also created two new columns for the two new lists I created beforehand and assigned a default value of ‘Unclassified’. I did this because there were cars that couldn’t be classified in either of the ways I specified in which I would create another category called ‘Unclassified’.</p>
<p>The next part of the code involves using nested for loops in which I utilized them to assign the values in columns Type and Drive. I did this by first running through all types of cars, and then all the rows. Since the type of car was marked in a form of 0's and 1's in which 1 signaled that it was that specific car/drivetrain. So by using an if statement for such situation, I was able to assigned the values for both of the new lists I created. After running through all the nested for loops, I created the dataframe I would put in my PCA solver in which contained the values of all the changes I made to the original dataset.</p>
<h3> Creating the PCA Solver Function </h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
</pre></td><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">analysis</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">df</span><span class="p">,</span><span class="n">x</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
    <span class="n">stri</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="n">stri</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">'principal component '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">principalComponents</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">principalDf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">principalComponents</span>
             <span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">stri</span><span class="p">)</span>
    <span class="n">finalDf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">principalDf</span><span class="p">,</span> <span class="n">df</span><span class="p">[[</span><span class="s">'Type'</span><span class="p">]]],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">finalDf_1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">principalDf</span><span class="p">,</span> <span class="n">df</span><span class="p">[[</span><span class="s">'Drive'</span><span class="p">]]],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
            <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">stri</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">stri</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'2 component PCA'</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>
            <span class="n">targets</span> <span class="o">=</span> <span class="p">[</span><span class="s">"Sports Car"</span><span class="p">,</span><span class="s">"Sport Utility Vehicle"</span><span class="p">,</span><span class="s">"Wagon"</span><span class="p">,</span><span class="s">"Minivan"</span><span class="p">,</span><span class="s">"Pickup"</span><span class="p">,</span><span class="s">"Unclassified"</span><span class="p">]</span>
            <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s">'r'</span><span class="p">,</span> <span class="s">'g'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">,</span><span class="s">'c'</span><span class="p">,</span><span class="s">'m'</span><span class="p">,</span><span class="s">'y'</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">target</span><span class="p">,</span> <span class="n">color</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">targets</span><span class="p">,</span><span class="n">colors</span><span class="p">):</span>
                <span class="n">indicesToKeep</span> <span class="o">=</span> <span class="n">finalDf</span><span class="p">[</span><span class="s">'Type'</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">finalDf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">indicesToKeep</span><span class="p">,</span> <span class="n">stri</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
                           <span class="p">,</span> <span class="n">finalDf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">indicesToKeep</span><span class="p">,</span> <span class="n">stri</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span>
                           <span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">color</span>
                           <span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">50</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">targets</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
            <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
            <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">stri</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">stri</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'2 component PCA'</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>
            <span class="n">targets</span> <span class="o">=</span> <span class="p">[</span><span class="s">"All-Wheel Drive"</span><span class="p">,</span><span class="s">"Rear-Wheel Drive"</span><span class="p">,</span><span class="s">"Unclassified"</span><span class="p">]</span>
            <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s">'r'</span><span class="p">,</span> <span class="s">'g'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">target</span><span class="p">,</span> <span class="n">color</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">targets</span><span class="p">,</span><span class="n">colors</span><span class="p">):</span>
                <span class="n">indicesToKeep</span> <span class="o">=</span> <span class="n">finalDf_1</span><span class="p">[</span><span class="s">'Drive'</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">finalDf_1</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">indicesToKeep</span><span class="p">,</span> <span class="n">stri</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
                           <span class="p">,</span> <span class="n">finalDf_1</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">indicesToKeep</span><span class="p">,</span> <span class="n">stri</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span>
                           <span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">color</span>
                           <span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">50</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">targets</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>The PCA Solver Function I created here is similar to that of the one I made for the Iris Dataset. You can refer <a href="https://elliotk19.github.io/summer%20camp/2018/07/22/Practice-Using-PCA/">here</a> on the explanation of the basic components of the PCA Solver. In terms of the standardizing part, the cars dataset’s variables did not really have similar units of measurements which makes standardizing a necessary part of the algorithm. In this specific function, I created two finaldfs in which one was used for categorizing the different vehicles and the other for the different drive trains. By concatenating the necessary columns with each dataframe, I was able to generate the necessary plots that allowed us to effectively categorize each of the vehicles and their specific drivetrains.</p>
<h3> Analyzing the Results </h3>
<p><img src="/public/img/vehicle.png" alt="Image" />
<img src="/public/img/drivetrain.png" alt="Image" />
These graphs shown above occurs when we generate the first two principal components of the cars dataset. The top one is for the vehicle type while the second graph is for the specific drivetrain. As shown by the clustering of each of the colors for the first graph, PCA allowed us to conclude that there are relationships amongst the variables as they follow strong general trends. So when an unknown datapoint is given regarding the different variables, with the PCA and the graph it generated we can identify what kind of flower the unknown sample is. However when talking about the PCA for the drivetrain, I did’t really notice distinct clustering between the colors. Therefore I concluded that there’s not much of a direct relationship between the variables regarding the drivetrains.</p>

    <article>
    <div class="post-more">
      
      <a href="/summer%20camp/2018/07/26/Second-Pracitce-Using-PCA/#disqus_thread"> <i class="fa fa-comments" aria-hidden="true"></i>Comment</a>&nbsp;
      
      <a href="/summer%20camp/2018/07/26/Second-Pracitce-Using-PCA/"><i class="fa fa-plus-circle" aria-hidden="true"></i>Read more</a>
    </div>
  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/blog/page2">Older</a>
  
  
    <span class="pagination-item newer">Newer</span>
  
</div>


      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if (target === toggle) {
            checkbox.checked = !checkbox.checked;
            e.preventDefault();
          } else if (checkbox.checked && !sidebar.contains(target)) {
            /* click outside the sidebar when sidebar is open */
            checkbox.checked = false;
          }
        }, false);
      })(document);
    </script>
    
    <script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-106931699-1', 'auto');
ga('send', 'pageview');
    </script>
    
  </body>
  
  <script id="dsq-count-scr" src="//elliot.disqus.com/count.js" async></script>
  
</html>
